{"ast":null,"code":"import _classCallCheck from\"/home/aradhya/React-App/my-burger-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aradhya/React-App/my-burger-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/aradhya/React-App/my-burger-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/aradhya/React-App/my-burger-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Aux from'../Aux/Aux';import Modal from'../../components/UI/Modal/Modal';var withErrorHandler=function withErrorHandler(WrappedComponent,axios){var _temp;return _temp=/*#__PURE__*/function(_Component){_inherits(_temp,_Component);var _super=_createSuper(_temp);function _temp(){var _this;_classCallCheck(this,_temp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:null};_this.errorConfirmedHandler=function(){_this.setState({error:null});};return _this;}_createClass(_temp,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.reqInterceptor=axios.interceptors.request.use(function(req){_this2.setState({error:null});return req;});this.resInterceptor=axios.interceptors.response.use(function(res){return res;},function(error){_this2.setState({error:error});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){axios.interceptors.request.eject(this.reqInterceptor);axios.interceptors.request.eject(this.resInterceptor);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Aux,null,/*#__PURE__*/React.createElement(Modal,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),/*#__PURE__*/React.createElement(WrappedComponent,this.props));}}]);return _temp;}(Component),_temp;};export default withErrorHandler;","map":{"version":3,"sources":["/home/aradhya/React-App/my-burger-app/src/hoc/withErrorHandler/withErrorHandler.js"],"names":["React","Component","Aux","Modal","withErrorHandler","WrappedComponent","axios","state","error","errorConfirmedHandler","setState","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","eject","message","props"],"mappings":"gmBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,GAAP,KAAgB,YAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,iCAAlB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,gBAAD,CAAmBC,KAAnB,CAA6B,WAClD,mUACIC,KADJ,CACY,CACJC,KAAK,CAAE,IADH,CADZ,OAmBIC,qBAnBJ,CAmB4B,UAAM,CAC1B,MAAKC,QAAL,CAAc,CAACF,KAAK,CAAC,IAAP,CAAd,EACH,CArBL,gGAIwB,iBAChB,KAAKG,cAAL,CAAsBL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,SAAAC,GAAG,CAAI,CACxD,MAAI,CAACL,QAAL,CAAc,CAACF,KAAK,CAAE,IAAR,CAAd,EACA,MAAOO,CAAAA,GAAP,CACH,CAHqB,CAAtB,CAIA,KAAKC,cAAL,CAAsBV,KAAK,CAACM,YAAN,CAAmBK,QAAnB,CAA4BH,GAA5B,CAAgC,SAAAI,GAAG,QAAIA,CAAAA,GAAJ,EAAnC,CAA2C,SAAAV,KAAK,CAAI,CACtE,MAAI,CAACE,QAAL,CAAc,CAACF,KAAK,CAAEA,KAAR,CAAd,EACH,CAFqB,CAAtB,CAGH,CAZL,mEAc0B,CAClBF,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BM,KAA3B,CAAiC,KAAKR,cAAtC,EACAL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BM,KAA3B,CAAiC,KAAKH,cAAtC,EACH,CAjBL,uCAsBY,CACJ,mBACA,oBAAC,GAAD,mBACI,oBAAC,KAAD,EAAO,IAAI,CAAE,KAAKT,KAAL,CAAWC,KAAxB,CACI,WAAW,CAAE,KAAKC,qBADtB,EAEK,KAAKF,KAAL,CAAWC,KAAX,CAAmB,KAAKD,KAAL,CAAWC,KAAX,CAAiBY,OAApC,CAA4C,IAFjD,CADJ,cAKI,oBAAE,gBAAF,CAAuB,KAAKC,KAA5B,CALJ,CADA,CAQH,CA/BL,mBAAqBpB,SAArB,QAkCH,CAnCD,CAoCA,cAAeG,CAAAA,gBAAf","sourcesContent":["import React, { Component } from 'react'\n\nimport Aux from '../Aux/Aux';\nimport Modal from '../../components/UI/Modal/Modal';\n\nconst withErrorHandler = (WrappedComponent, axios) => {\n    return class extends Component {\n        state = {\n            error: null\n        }\n        componentWillMount(){\n            this.reqInterceptor = axios.interceptors.request.use(req => {\n                this.setState({error: null});\n                return req;\n            })\n            this.resInterceptor = axios.interceptors.response.use(res => res,error => {\n                this.setState({error: error})\n            });\n        }\n\n        componentWillUnmount(){\n            axios.interceptors.request.eject(this.reqInterceptor);\n            axios.interceptors.request.eject(this.resInterceptor);\n        }\n\n        errorConfirmedHandler = () => {\n            this.setState({error:null});\n        }\n        render(){\n            return(\n            <Aux>\n                <Modal show={this.state.error}\n                    modalClosed={this.errorConfirmedHandler}>\n                    {this.state.error ? this.state.error.message:null}\n                </Modal>\n                < WrappedComponent {...this.props} />\n            </Aux>)\n        }\n    }\n    \n}\nexport default withErrorHandler;"]},"metadata":{},"sourceType":"module"}